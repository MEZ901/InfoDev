<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="/stylesheet/output.css" rel="stylesheet" />
    <title><%= title %></title>
  </head>
  <body>
    <nav class="bg-white border-gray-200">
      <div
        class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4"
      >
        <a href="/articles" class="flex items-center">
          <span class="self-center text-2xl font-semibold whitespace-nowrap">
            InfoDev
          </span>
        </a>
        <div class="flex items-center md:order-2">
          <button
            type="button"
            class="flex mr-3 text-sm bg-gray-800 rounded-full md:mr-0 focus:ring-4 focus:ring-gray-300"
            id="user-menu-button"
            aria-expanded="false"
            data-dropdown-toggle="user-dropdown"
            data-dropdown-placement="bottom"
            onclick="handleProfileClick()"
          >
            <span class="sr-only">Open user menu</span>
            <img
              class="w-8 h-8 rounded-full"
              src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAZABkAAD/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/2wBDAQMEBAUEBQkFBQkUDQsNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT/wAARCAD6APoDAREAAhEBAxEB/8QAHAABAQADAQEBAQAAAAAAAAAAAAEEBQYHAwII/8QAORABAAEDAgMEBwUHBQAAAAAAAAECAwQFEQYSMRMhQVEiUmFxgZGxQnOhwdEUFTViY+HwIzI0U8L/xAAWAQEBAQAAAAAAAAAAAAAAAAAAAQL/xAAWEQEBAQAAAAAAAAAAAAAAAAAAARH/2gAMAwEAAhEDEQA/AP76bYNgNgNgNgNgNgNgNgNgNgNgNgNgNgNgNgNgNgNgNgNgNgNgNgNgNgNgNgNgNgNgIBQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABIBQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABIBQAAAAAAAAAAAAYuXqmLhd16/Rbq9WZ3n5QYMCrizT6Z257lXti3K4PrZ4k0+/O0ZEUT/UpmlMGwoyLVzbkuUV7+rVEg/YKAAAAAAAAAAAACQCgAAAAAAAAAA12oa7iadM03LnNd/67cbz8fIwc5qfFGRmb0WN8a1PXafSn4+HwawaXrMzPfM9ZA2AAiIid47gZ+FrebgzHJemuj1LnpQDqtI1+zqnobdlkeNuZ6+6fFnBtQAAAAAAAAAAASAUAAAAAAAAEBzuv8RxZirGxK97vSu5H2fZHt+iyDlOs7zO8z4yoAAAAAAtNVVFUVUzNNUTvEx3TEg7fh/WP3pjzTcmIyLfdXHrR6yUbZAAAAAAAAAABIBQAAAAAAAAajiXUqsDA5bc8t29PJTMeEeM/55rBxERsoAAAAAAAAy9Lzp07OtX+/lidq4jxpnqD0KmqKqYmJ3iY3ifNkUAAAAAAAAAEgFAAAAAAAABxPFWZ+06n2dP+2xHJ8es/57GoNOAAAAAAAAADuuG8icjR7EzO80b25n3T+myUbRAAAAAAAAABIBQAAAAAAASqqKaZqnpHfIPNbt2b965cmd5rqmqfjLQ/AAAAAAAAAAOz4RpmNJifO5V+SUbtAAAAAAAAABIBQAAAAAAAY2o19ngZNXlaqn8AedRG0Q0AAAAAAAAAAOw4Pq3025T6t2fpCUb5AAAAAAAAABIBQAAAAAAAYesfwrL+6q+gPPWgAAAAAAAAAB1vBv8Awsj73/zCUdCgAAAAAAAAAkAoAAAAAAANdrmVZsaffou3aaKrluqmiJnvqnYg4KOjQAAAAAAAAAA6nhDLsUWLliq5TTeruc1NE9ZjaEo6VAAAAAAAAABIBQAAAAAAAcdxhM/vK15dlG3zlYNEoAAAAAAAAAAydN3jUcXl7p7Wn6g9EZFAAAAAAAABIBQAAAAAAAcnxnamMnFueE0TT8Ynf81g51QAAAAAAAAABnaHam7rGJTEdK4qn4d4O/joyKAAAAAAAACQCgAAAAAAA0nFmN22lzciO+1XFXwnun8lg4xQAAAAAAAAABv+D8btM29enpbo5Y98/wBoSjr0AAAAAAAAAEgFAAAAAAAB+L1mi/art3KYqoqjlqifGAcZr+h0aTFq5arrrt1zMTz/AGZ8GoNOAAAAAAAADM0rT/3nnUWJqmmmYmaqojviIgHb6bplnS7HZWYnaZ3qqq61SyMsAAAAAAAAAEgFAAAAAAAABga5hft+m3rcRvXEc9Hvgg4CGgAAAAAAAB1XB+FyWbuVVHfcnkp90dfx+iUdIgAAAAAAAAAAkAoAAAAAAAAIDiuJNKnAzJvUU/6F6d42+zV4x+bUGnAAAAAABkYOFc1HKosWo76utXhTHjIPQcbHoxbFuzbjaiimKYhkfUAAAAAAAAAAEgFAAAAAAAAABi6ljU5eDftVxvFVE7eyesSDzuJ3hoAAAAAAdhwhjU0afXe29O5XMTPsjpH1SjfIAAAAAAAAAAAJAKAAAAAAAAAD55FXLYuTPSKZn8AeaU9IaFAAAAAnoDteE6onR6I8Yrqj8Uo3KAAAAAAAAAAACQCgAAAAAAAA+GXm2MG12l+5Tbp9vWfdHiDmdU4rqybdyzjWuW3VE0zcr6zHsjwXBzygAAAAADaaPr13SaZt9nTds1Vc0xM7TE+yTB1enazi6lG1qva5426+6qP1+DIzwAAAAAAAAAASAUAAAAAAAHzvX7ePRNd2um3RH2qp2gHGcS6jY1HKtTYqmum3TNM1TG0T3+DUGoAAAAAAAABkadkUYmoY96vfkoriqeXqDvcPUcfPo3sXabnnEdY98dWRkAoAAAAAAAAJAKAAAACTVFMTMztEdZnoDWZfEeDibx2va1x9m1HN+PQwaPM4vyL28Y9umxT61XpVfouDS5GRdyq+e9cqu1edU7qPmAAAAAAAAAAC01TRVFVMzTVHSYnaYBtsPijNxdorqjIo8rnX5mDeYnFmHf2i7zY1X88b0/OEwbezft36Oe3XTcp9aid4QfsFAAAAABIBQAQGuzuIMLBmaarvaXI+xbjmn9IMGjy+ML9zeMezTZj1q/Sn9FwabKzsjNne/fru+yZ7vl0UfAAAAAAAAAAAAAAAAAH7tXrmPXz2q6rdXnRO0g22JxXm4+0XeXIp/njar5wYN3h8V4eRtF2aser+fvp+cJg3FFdNymKqZiqme+Jid4lB+gAAASAUEmdoBx2ucRXMuuqxjVTRjx3TXHdNf9lwaPbZQAAAAAAAAAAAAAAAAAAAAABnaXq9/SrkTbnntTPpWpnun3eUg7nDy7edj0XrVXNRVHd5x7JZH3AABIBQabinNnE02aKJ2rvTybx5eP6fFYOKUAAAAAAAAAAAAAAAAAAAAAAAAdBwhmzbybmLVPo3I56Y8qo6/h9Eo65AABIBQclxldmrKxrfhTRNXzn+ywc8oAAAAAAAAAAAAAAAAAAAAAAAAzdFudlq+JV/UiJ+Pd+YPQI6MigAkAoON4v/AInb+6j6ysGjUAAAAAAAAAAAAAAAAAAAAAAAAZGn/wAQxfvaPrAPRmQAB//Z"
              alt="user photo"
            />
          </button>
        </div>
      </div>
    </nav>

    <div
      class="bg-gray-200 w-full px-16 py-8 min-h-screen flex flex-col items-center"
    >
      <h1 class="text-3xl text-center font-bold">Update Article</h1>
      <div
        class="block w-1/2 mt-5 rounded-lg bg-white p-6 shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)]"
      >
        <form action="/articles/<%= article.id %>?_method=PUT" method="POST">
          <!-- user id hidden input -->
          <input type="hidden" name="user_id" value="1" />

          <!--Title input-->
          <div class="mb-6">
            <label
              for="default-input"
              class="block mb-2 text-sm font-medium text-gray-900"
              >Title</label
            >
            <input
              type="text"
              id="title"
              name="title"
              value="<%= article.title %>"
              placeholder="Title"
              required
              class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
            />
          </div>

          <!--Content textarea-->
          <div>
            <label
              for="message"
              class="block mb-2 text-sm font-medium text-gray-900"
              >Content</label
            >
            <textarea
              id="content"
              name="content"
              rows="10"
              class="block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500"
              placeholder="Write your thoughts here..."
              required
            >
<%= article.content %></textarea
            >
          </div>

          <!--Submit button-->
          <button
            type="submit"
            class="inline-block mt-5 w-full rounded bg-primary px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white shadow-[0_4px_9px_-4px_#3b71ca] transition duration-150 ease-in-out hover:bg-primary-600 hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:bg-primary-600 focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:outline-none focus:ring-0 active:bg-primary-700 active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)]"
            data-te-ripple-init
            data-te-ripple-color="light"
          >
            Update
          </button>
        </form>
      </div>
    </div>

    <script>
      const handleProfileClick = () => {
        const userInfoCookie = document.cookie
          .split("; ")
          .find((cookie) => cookie.startsWith("userInfo="));

        if (userInfoCookie) {
          const userInfoValue = userInfoCookie.split("=")[1];
          const userInfoObject = JSON.parse(decodeURIComponent(userInfoValue));
          if (userInfoObject && userInfoObject.id) {
            const id = userInfoObject.id;
            window.location.href = `/profile?id=${id}`;
          } else {
            alert('No "id" found in the userInfo cookie.');
          }
        } else {
          alert('No "userInfo" cookie found.');
        }
      };
    </script>
  </body>
</html>
